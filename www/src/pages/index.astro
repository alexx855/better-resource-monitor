---
import { getCollection, render } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';

const docs = await getCollection('docs');
const readme = docs[0];
const { Content } = await render(readme);

const title = 'Silicon Monitor - macOS Menu Bar System Monitor';
const description = 'A blazing-fast, lightweight macOS menu bar system monitor built with Rust and Tauri.';
---

<Layout title={title} description={description}>
  <main>
    <Hero />
    
    <div class="container">
      <article>
        <Content />
      </article>
    </div>
  </main>
</Layout>

<style>
  /* ===== Layout ===== */
  .container {
    width: 100%;
    max-width: 830px;
    margin: 0 auto;
    padding: 2rem 1.5rem;
  }

  article {
    width: 100%;
  }

  /* ===== Typography & Content Styles ===== */
  /* Scoped styles for the README content */

  :global(h1), :global(h2), :global(h3), :global(h4) {
    color: var(--color-text-primary);
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-family: var(--font-display);
  }

  :global(h2) {
    font-size: 1.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--color-surface-hover);
  }

  :global(h3) {
    font-size: 1.25rem;
  }

  :global(p) {
    margin-bottom: 1rem;
    color: var(--color-text-secondary);
  }

  :global(strong) {
    color: var(--color-text-primary);
    font-weight: 600;
  }

  :global(ul), :global(ol) {
    margin: 1rem 0;
    padding-left: 2rem;
  }

  :global(li) {
    margin: 0.375rem 0;
    color: var(--color-text-secondary);
  }

  /* ===== Tables ===== */
  :global(table) {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  :global(th), :global(td) {
    padding: 0.75rem 1rem;
    border: 1px solid var(--color-surface-hover);
    text-align: left;
    white-space: nowrap;
    color: var(--color-text-secondary);
  }

  :global(th) {
    background: var(--color-surface);
    font-weight: 600;
    color: var(--color-text-primary);
  }

  /* ===== Images ===== */
  :global(img) {
    border-radius: var(--radius-sm);
    height: auto;
    max-width: 100%;
  }

  /* Hide the first image in README since we have the Hero now */
  :global(p[align="center"]:first-of-type) {
    display: none;
  }

  /* Badge images */
  :global(p[align="center"] img[src^="https://img.shields.io"]) {
    display: inline-block;
    vertical-align: middle;
    margin: 4px;
    border-radius: 4px;
  }

  /* ===== Horizontal Rule ===== */
  :global(hr) {
    border: none;
    border-top: 1px solid var(--color-surface-hover);
    margin: 3rem 0;
  }

  /* ===== Responsive ===== */
  @media (max-width: 600px) {
    .container {
      padding: 1.25rem 1rem;
    }
    
    :global(h2) { font-size: 1.375rem; }
  }
</style>
